### jvm方法调用

#### 重载与重写

- 我们想要在同一个类中定义名字相同的方法，那么它们的参数类型必须不同。这些方法之间的关系，我们称之为重载

- 这个限制可以通过字节码工具绕开

````
1. 在编译完成之后，我们可以再向class文件中添加方法名和参数类型相同，而返回类型不同的方法。

2. 当这种包括多个方法名相同、参数类型相同，而返回类型不同的方法的类，出现在Java编译器的用户类路径上时，它是怎么确定需要调用哪个方法的呢？

3. 当前版本的Java编译器会直接选取第一个方法名以及参数类型匹配的方法。并且，它会根据所选取方法的返回类型来决定可不可以通过编译，以及需不需要进行值转换等。

````

#### 重载方法选择

- 在不考虑对基本类型自动装拆箱，以及可变长参数的情况下选取重载方法

- 如果在第1个阶段中没有找到适配的方法，那么允许自动拆箱，但不允许可变长参数的情况下选取重载方法

- 如果在第2个阶段没有找到适配的方法，那么允许自动拆箱以及可变长参数的情况下选取重载方法

- 如果java编译器在同一个阶段中找到了多个适配方法，那么它会在其中选择一个最为贴切的，而觉定贴切程度的一个关键就是形式参数类型的继承关系

````

void invoke(Object obj, Object... args) { ... }
void invoke(String s, Object obj, Object... args) { ... }

比如传入null时，它既可以匹配第一个方法中声明为Object的形式参数，也可以匹配第二个方法声明为String的形式参数。
由于String是Object的子类，因此java编译器会认为第二个方法更为贴切
````

- 除了同一个类中的方法，重载也可以作用于这个类继承而来的方法。

````
如果子类定义了与父类中非私有方法同名的方法，而且这两个方法的参数类型不同，那么在子类中，这两个方法同样构成了重载。
````