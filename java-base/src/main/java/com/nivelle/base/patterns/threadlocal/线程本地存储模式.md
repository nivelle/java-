### 线程本地存储模式

- 避免共享：并发问题是因为同时操作共享变量引起的，为了避免线程安全问题，避免共享，这样也能解决线程安全问题

- 局部变量、线程本地存储（threadLocal）都能实现避免变量的共享

#### java ThreadLocal实现的优势

- threadLocal仅仅是一个代理工具类，内部不持有任何与线程相关的数据

- 所有和线程相关的数据都存储在Thread里面，仅仅是操作权交给了ThreadLocal

- 不容易产生内容泄露: Thread 持有ThreadLocalMap,而且ThreadLocalMap 里对ThreadLocal是弱引用，所以只要Thread对象可以回收，那么ThreadLocalMap就能被
回收。