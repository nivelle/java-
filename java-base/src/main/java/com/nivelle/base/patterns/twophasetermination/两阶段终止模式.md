### 两阶段终止模式

````
我们将线程的正常处理状态称为“作业中”，当希望结束这个线程时，则送出“终止请求”。
接着，这个线程并不会立刻结束，而是进入“终止处理中”状态，此时线程还是运行着的，可能处理一些释放资源等操作。直到终止处理完毕，才会真正结束。

````
#### 主要考虑的问题

- 安全地结束（安全性）；

- 一定会进行终止处理（生命性）；

- 收到“终止请求”后，要尽快进行终止处理（响应性）；

#### 核心步骤

- 第一个阶段主要是线程 T1 向线程 T2发送终止指令

- T2响应终止指令

- Java 线程进入终止状态的前提是线程进入 RUNNABLE 状态，而实际上线程也可能处在休眠状态，也就是说，我们要想终止一个线程，首先要把线程的状态从休眠状态转换到 RUNNABLE 状态

- interrupt()方法，将休眠状态的线程转换到RUNNABLE状态

- RUNNABLE 状态转换到终止状态，优雅的方式是让 Java 线程自己执行完 run() 方法，所以一般我们采用的方法是设置一个标志位，然后线程会在合适的时机检查这个标志位，如果发现符合终止条件，则自动退出 run() 方法